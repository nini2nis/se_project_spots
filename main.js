!function(){"use strict";var e="",t=e+"d3610e9c6dce3cb370d8.svg",o=e+"2fc47fd8e9a9bcd9612f.jpg",r=e+"d38272e02bb4f1ab1c37.svg",n=e+"40608da7369d39bc1077.svg";const a={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active"},l=(e,t,o)=>{const r=e.querySelector(`.${t.id}-error`);t.classList.remove(o.inputErrorClass),r.classList.remove(o.errorClass),r.textContent=""},c=(e,t,o)=>{(e=>e.some((e=>!e.validity.valid)))(e)?i(t,o):(t.classList.remove(o.inactiveButtonClass),t.disabled=!1)},i=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},s=e=>{Array.from(document.querySelectorAll(e.formSelector)).forEach((t=>{t.addEventListener("submit",(e=>{e.preventDefault()})),((e,t)=>{const o=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);c(o,r,t),o.forEach((n=>{n.addEventListener("input",(()=>{((e,t,o)=>{t.validity.valid?l(e,t,o):((e,t,o,r)=>{const n=e.querySelector(`.${t.id}-error`);t.classList.add(r.inputErrorClass),n.classList.add(r.errorClass),n.textContent=o})(e,t,t.validationMessage,o)})(e,n,t),c(o,r,t)}))}))})(t,e)}))};s(a),document.getElementById("header__logo").src=t,document.getElementById("profile__avatar").src=o,document.getElementById("profile__edit-icon").src=r,document.getElementById("profile__post-icon").src=n;const d=document.querySelector(".profile__edit-button"),u=document.querySelector("#edit-modal"),m=(u.querySelector(".modal__close-button"),document.forms["edit-profile"]),f=u.querySelector("#profile-name"),p=u.querySelector("#profile-description"),_=document.querySelector(".profile__name"),b=document.querySelector(".profile__description"),y=document.querySelector(".profile__post-button"),x=document.querySelector("#post-modal"),v=(x.querySelector(".modal__close-button"),document.forms["new-post-form"]),S=x.querySelector("#card-link"),q=x.querySelector("#card-name"),g=x.querySelector(".modal__submit-button"),w=document.querySelector("#modal-preview"),h=w.querySelector(".modal__image-name"),D=w.querySelector(".modal__image"),E=(w.querySelector(".modal__close-button"),document.querySelectorAll(".modal")),L=document.querySelector("#card-template"),k=document.querySelector(".cards__list");function B(e){console.log(e);const t=L.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__text"),r=t.querySelector(".card__image"),n=t.querySelector(".card__heart-button"),a=t.querySelector(".card__trash-button");return o.textContent=e.name,r.src=e.link,r.alt=e.name,n.addEventListener("click",(()=>{n.classList.toggle("card__heart-button_liked")})),a.addEventListener("click",(()=>{t.remove()})),r.addEventListener("click",(()=>{M(w),h.textContent=e.name,D.src=e.link,D.alt=e.name})),t}function M(e){e.classList.add("modal_opened"),document.addEventListener("keydown",C)}function A(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",C)}function C(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&A(e)}}k.querySelector("card__image"),d.addEventListener("click",(()=>{var e,t;f.value=_.textContent,p.value=b.textContent,e=u,t=a,[f,p].forEach((o=>{l(e,o,t)})),M(u)})),y.addEventListener("click",(()=>{M(x)})),E.forEach((e=>{e.addEventListener("mousedown",(t=>{t.target.classList.contains("modal_opened")&&A(e),t.target.classList.contains("modal__close-button")&&A(e)}))})),m.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=f.value,b.textContent=p.value,A(u)})),v.addEventListener("submit",(function(e){e.preventDefault();const t=B({name:q.value,link:S.value});k.prepend(t),e.target.reset(),i(g,a),A(x)})),[{name:"Venice, Italy",link:"https://images.unsplash.com/photo-1519112232436-9923c6ba3d26?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Mt. Fuji, Japan",link:"https://images.unsplash.com/photo-1734249201319-e7227b1b4f54?q=80&w=1827&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"London, United Kingdom",link:"https://images.unsplash.com/photo-1529655683826-aba9b3e77383?q=80&w=1965&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Taj Majal (Agra), India",link:"https://images.unsplash.com/photo-1532664189809-02133fee698d?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Cappadocia, Turkey",link:"https://images.unsplash.com/photo-1732951362119-3037a2d960b3?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Copenhagen, Denmark",link:"https://images.unsplash.com/photo-1733235015010-bf15b2af1422?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Golden Gate Bridge (San Francisco), USA",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"}].forEach((e=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const o=B(e);k[t](o)}(e)})),s(a)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQU0sa0JBQ05DLEtBQU0sMEtBRVIsQ0FDRUQsS0FBTSx5QkFDTkMsS0FBTSwwS0FFUixDQUNFRCxLQUFNLDBCQUNOQyxLQUFNLDBLQUVSLENBQ0VELEtBQU0scUJBQ05DLEtBQU0sMEtBRVIsQ0FDRUQsS0FBTSxzQkFDTkMsS0FBTSwwS0FFUixDQUNFRCxLQUFNLDBDQUNOQyxLQUFNLCtIQXFJRy9DLFNBQVNnRSxLQWxDdEIsU0FBb0JBLEdBQTBCLElBQXBCQyxFQUFNQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFHLFVBQ2pDLE1BQU0zQixFQUFjSixFQUFlNkIsR0FDbkM5QixFQUFVK0IsR0FBUTFCLEVBQ3BCLENBZ0NFOEIsQ0FBV0wsRUFBSyxJQUdsQnJFLEVBQWlCNUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgZm9ybUlucHV0LCBlcnJvck1lc3NhZ2UsIGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1FcnJvciA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2Zvcm1JbnB1dC5pZH0tZXJyb3JgKTtcclxuICBmb3JtSW5wdXQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICBmb3JtRXJyb3IuY2xhc3NMaXN0LmFkZChjb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgZm9ybUVycm9yLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG59O1xyXG5cclxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGZvcm1JbnB1dCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUVycm9yID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Zm9ybUlucHV0LmlkfS1lcnJvcmApO1xyXG4gIGZvcm1JbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIGZvcm1FcnJvci5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcclxuICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbGVtZW50LCBmb3JtSW5wdXQsIGNvbmZpZykgPT4ge1xyXG4gIGlmICghZm9ybUlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgZm9ybUlucHV0LCBmb3JtSW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBmb3JtSW5wdXQsIGNvbmZpZyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcclxuICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWxlbWVudCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgY29uZmlnKTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcclxuICApO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gIGlucHV0TGlzdC5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcclxuICAgIGZvcm1JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGZvcm1JbnB1dCwgY29uZmlnKTtcclxuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgY29uZmlnKTtcclxuICB9KTtcclxufTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xyXG5cclxuZXhwb3J0IHsgc2V0dGluZ3MsIHJlc2V0VmFsaWRhdGlvbiwgZGlzYWJsZUJ1dHRvbiwgZW5hYmxlVmFsaWRhdGlvbiB9O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IGxvZ29TcmMgZnJvbSBcIi4uL2ltYWdlcy9sb2dvLnN2Z1wiO1xyXG5jb25zdCBsb2dvSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlcl9fbG9nb1wiKTtcclxubG9nb0ltYWdlLnNyYyA9IGxvZ29TcmM7XHJcblxyXG5pbXBvcnQgYXZhdGFyU3JjIGZyb20gXCIuLi9pbWFnZXMvYXZhdGFyLmpwZ1wiO1xyXG5jb25zdCBhdmF0YXJJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5hdmF0YXJJbWFnZS5zcmMgPSBhdmF0YXJTcmM7XHJcblxyXG5pbXBvcnQgcGVuU3JjIGZyb20gXCIuLi9pbWFnZXMvaWNvbl9wZW4uc3ZnXCI7XHJcbmNvbnN0IHBlbkltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlX19lZGl0LWljb25cIik7XHJcbnBlbkltYWdlLnNyYyA9IHBlblNyYztcclxuXHJcbmltcG9ydCBwbHVzU3JjIGZyb20gXCIuLi9pbWFnZXMvaWNvbl9wbHVzLnN2Z1wiO1xyXG5jb25zdCBwbHVzSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGVfX3Bvc3QtaWNvblwiKTtcclxucGx1c0ltYWdlLnNyYyA9IHBsdXNTcmM7XHJcblxyXG5pbXBvcnQge1xyXG4gIHNldHRpbmdzLFxyXG4gIHJlc2V0VmFsaWRhdGlvbixcclxuICBkaXNhYmxlQnV0dG9uLFxyXG4gIGVuYWJsZVZhbGlkYXRpb24sXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiVmVuaWNlLCBJdGFseVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxOTExMjIzMjQzNi05OTIzYzZiYTNkMjY/cT04MCZ3PTIwNzAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk10LiBGdWppLCBKYXBhblwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTczNDI0OTIwMTMxOS1lNzIyN2IxYjRmNTQ/cT04MCZ3PTE4MjcmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxvbmRvbiwgVW5pdGVkIEtpbmdkb21cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1Mjk2NTU2ODM4MjYtYWJhOWIzZTc3MzgzP3E9ODAmdz0xOTY1JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJUYWogTWFqYWwgKEFncmEpLCBJbmRpYVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUzMjY2NDE4OTgwOS0wMjEzM2ZlZTY5OGQ/cT04MCZ3PTE5MzUmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkNhcHBhZG9jaWEsIFR1cmtleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTczMjk1MTM2MjExOS0zMDM3YTJkOTYwYjM/cT04MCZ3PTE4ODcmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkNvcGVuaGFnZW4sIERlbm1hcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MzMyMzUwMTUwMTAtYmYxNWIyYWYxNDIyP3E9ODAmdz0xODg3JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJHb2xkZW4gR2F0ZSBCcmlkZ2UgKFNhbiBGcmFuY2lzY28pLCBVU0FcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy83LXBob3RvLWJ5LWdyaWZmaW4td29vbGRyaWRnZS1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBlZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtbW9kYWxcIik7XHJcbmNvbnN0IGVkaXRNb2RhbENsb3NlQnV0dG9uID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtcHJvZmlsZVwiXTtcclxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuXHJcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3Bvc3QtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bvc3QtbW9kYWxcIik7XHJcbmNvbnN0IGFkZENhcmRDbG9zZUJ1dHRvbiA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XHJcbmNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJuZXctcG9zdC1mb3JtXCJdO1xyXG5jb25zdCBjYXJkTGlua0lucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1saW5rXCIpO1xyXG5jb25zdCBjYXJkTmFtZUlucHV0ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1uYW1lXCIpO1xyXG5jb25zdCBjYXJkU3VibWl0QnV0dG9uID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIik7XHJcbmNvbnN0IG1vZGFsUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcHJldmlld1wiKTtcclxuY29uc3QgbW9kYWxJbWFnZU5hbWUgPSBtb2RhbFByZXZpZXcucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtbmFtZVwiKTtcclxuY29uc3QgbW9kYWxJbWFnZSA9IG1vZGFsUHJldmlldy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgY2xvc2VNb2RhbFByZXZpZXdCdXR0b24gPSBtb2RhbFByZXZpZXcucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcclxuKTtcclxuY29uc3QgcG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcclxuXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcclxuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuY29uc3QgY2FyZEltYWdlID0gY2FyZHNMaXN0LnF1ZXJ5U2VsZWN0b3IoXCJjYXJkX19pbWFnZVwiKTtcclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICBjb25zdCBjYXJkTmFtZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGV4dFwiKTtcclxuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gIGNvbnN0IGhlYXJ0QnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19oZWFydC1idXR0b25cIik7XHJcbiAgY29uc3QgdHJhc2hCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoLWJ1dHRvblwiKTtcclxuXHJcbiAgY2FyZE5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgY2FyZEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICBjYXJkSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG5cclxuICBoZWFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgaGVhcnRCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2hlYXJ0LWJ1dHRvbl9saWtlZFwiKTtcclxuICB9KTtcclxuXHJcbiAgdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH0pO1xyXG5cclxuICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIG9wZW5Nb2RhbChtb2RhbFByZXZpZXcpO1xyXG4gICAgbW9kYWxJbWFnZU5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICBtb2RhbEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgIG1vZGFsSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VPbkVzYyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlT25Fc2MpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHByb2ZpbGVOYW1lSW5wdXQudmFsdWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWU7XHJcbiAgY2xvc2VNb2RhbChlZGl0TW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkRm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBpbnB1dFZhbHVlcyA9IHsgbmFtZTogY2FyZE5hbWVJbnB1dC52YWx1ZSwgbGluazogY2FyZExpbmtJbnB1dC52YWx1ZSB9O1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaW5wdXRWYWx1ZXMpO1xyXG4gIGNhcmRzTGlzdC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICBldnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgZGlzYWJsZUJ1dHRvbihjYXJkU3VibWl0QnV0dG9uLCBzZXR0aW5ncyk7XHJcbiAgY2xvc2VNb2RhbChhZGRDYXJkTW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU9uRXNjKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjb25zdCBhY3RpdmVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgaWYgKGFjdGl2ZU1vZGFsKSBjbG9zZU1vZGFsKGFjdGl2ZU1vZGFsKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoaXRlbSwgbWV0aG9kID0gXCJwcmVwZW5kXCIpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGl0ZW0pO1xyXG4gIGNhcmRzTGlzdFttZXRob2RdKGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcbiAgcmVzZXRWYWxpZGF0aW9uKFxyXG4gICAgZWRpdE1vZGFsLFxyXG4gICAgW3Byb2ZpbGVOYW1lSW5wdXQsIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0XSxcclxuICAgIHNldHRpbmdzXHJcbiAgKTtcclxuICBvcGVuTW9kYWwoZWRpdE1vZGFsKTtcclxufSk7XHJcblxyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGFkZENhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxucG9wdXBzLmZvckVhY2goKHBvcHVwKSA9PiB7XHJcbiAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcclxuICAgICAgY2xvc2VNb2RhbChwb3B1cCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2UtYnV0dG9uXCIpKSB7XHJcbiAgICAgIGNsb3NlTW9kYWwocG9wdXApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbnByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xyXG5jYXJkRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUNhcmRGb3JtU3VibWl0KTtcclxuXHJcbmluaXRpYWxDYXJkcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgcmVuZGVyQ2FyZChpdGVtKTtcclxufSk7XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWxlbWVudCIsImZvcm1JbnB1dCIsImNvbmZpZyIsImZvcm1FcnJvciIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRleHRDb250ZW50IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25FbGVtZW50Iiwic29tZSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsImVuYWJsZVZhbGlkYXRpb24iLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInByZXZlbnREZWZhdWx0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIiwiZ2V0RWxlbWVudEJ5SWQiLCJzcmMiLCJsb2dvU3JjIiwiYXZhdGFyU3JjIiwicGVuU3JjIiwicGx1c1NyYyIsImVkaXRQcm9maWxlQnV0dG9uIiwiZWRpdE1vZGFsIiwicHJvZmlsZUZvcm0iLCJmb3JtcyIsInByb2ZpbGVOYW1lSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwiYWRkQ2FyZEJ1dHRvbiIsImFkZENhcmRNb2RhbCIsImNhcmRGb3JtIiwiY2FyZExpbmtJbnB1dCIsImNhcmROYW1lSW5wdXQiLCJjYXJkU3VibWl0QnV0dG9uIiwibW9kYWxQcmV2aWV3IiwibW9kYWxJbWFnZU5hbWUiLCJtb2RhbEltYWdlIiwicG9wdXBzIiwiY2FyZFRlbXBsYXRlIiwiY2FyZHNMaXN0IiwiZ2V0Q2FyZEVsZW1lbnQiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmROYW1lIiwiY2FyZEltYWdlIiwiaGVhcnRCdXR0b24iLCJ0cmFzaEJ1dHRvbiIsIm5hbWUiLCJsaW5rIiwiYWx0IiwidG9nZ2xlIiwib3Blbk1vZGFsIiwibW9kYWwiLCJjbG9zZU9uRXNjIiwiY2xvc2VNb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJhY3RpdmVNb2RhbCIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwicG9wdXAiLCJ0YXJnZXQiLCJjb250YWlucyIsInByZXBlbmQiLCJyZXNldCIsIml0ZW0iLCJtZXRob2QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZW5kZXJDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==